;;;; change the prefix key to something else
(set-prefix-key (kbd "C-d"))

;;;; Default terminal emulator
(setq *terminal* "urxvt")

;;;; Default Browser
(setq *browser* "google-chrome")

;;; Lock screen
(defparameter *my-lock-command*
  "xlock")
(defcommand lock-screen () ()
  "Lock my screen."
  (run-shell-command *my-lock-command* t))
(define-key *top-map* (kbd "C-M-l") "lock-screen")

(defmacro bind-shell-to-key (key command &optional (map *root-map*))
  `(define-key ,map (kbd ,key) (concatenate 'string
                                            "run-shell-command "
                                            ,command)))
(bind-shell-to-key "D" "/opt/deadbeef/bin/deadbeef")
(bind-shell-to-key "M" "sunflower")
(bind-shell-to-key "G" "google-chrome")
(bind-shell-to-key "C-M-z" "goldendict" *top-map*)

(define-key *top-map* (kbd "C-M-e") "emacs")
(define-key *top-map* (kbd "M-Tab") "windowlist")
(define-key *top-map* (kbd "M-Z") "pull-hidden-next")
(define-key *top-map* (kbd "M-z") "pull-hidden-previous")
(define-key *top-map* (kbd "M-F4") "delete")
(define-key *top-map* (kbd "C-F12") "loadrc")
(define-key *top-map* (kbd "C-F11") "restart-hard")

(set-font "-*-terminus-*-*-*-*-18-*-*-*-*-*-iso10646-*")

;;;; Style of window borders
(setf *mouse-focus-policy* :click
      *window-border-style* :none)

;;;; Message window gravity
;; ; :top-left :top-right :bottom-left :bottom-right :center
 (setq *message-window-gravity* :center)

;;;; Input window gravity
;; ; :top-left :top-right :bottom-left :bottom-right :center
 (setq *input-window-gravity* :center)

(set-bg-color "#F0FFF0")
(set-fg-color "#326B6B")
(set-border-color "#555555")

;; ------------------------------------------------------------
;; modeline
(setf *mode-line-timeout* 60)

(setf *mode-line-position* :bottom)

(setf *mode-line-background-color* "#DCDAD5")
(setf *mode-line-foreground-color* "#222222")
(setf *mode-line-border-width* 1)

(setf stumpwm:*screen-mode-line-format*
      (list ""
            '(:eval (stumpwm:run-shell-command "date" t))))

(stumpwm:toggle-mode-line (stumpwm:current-screen)
                          (stumpwm:current-head))
;;
;; ------------------------------------------------------------
